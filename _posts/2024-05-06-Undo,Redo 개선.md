---
title: Undo,Redo 개선
categories:
  - DEVELOPMENT
tags:
  - Undo
  - Redo
use_math: true
---
요즘 대부분의 프로그램에서 Undo, Redo 기능을 지원하고 있습니다.  
  
고객사에서 Undo 기능이 제대로 동작하지 않는다고 오류 접수를 해서 코드를 확인해 보니 아래와 같이 되어 있었습니다.  

```CSharp
public class UndoRedoData{
    /// 현재 화면에 보이는 아이템의 레퍼런스
    public CommentUserInfo Item { get; set; }
    
    /// 아래는 Undo, Redo를 하기 위한 속성들
    public List<Point> PointSet { get; set; }
    public double LineSize { get; set; }
    public DoubleCollection DashSize { get; set; }
    public Double Opacity { get; set; }
    public Controls.Common.PaintSet paint { get; set; }
    public double Angle { get; set; }}
```

이 코드를 보는 순간 '잘못 되었구나'라는 생각이 들었습니다.  
Item 속성 밑에 있는 것들은 모두 CommentUserInfo 클래스의 속성들 중 일부였습니다.  
아마도 이 코드를 작성한 개발자는 Undo, Redo 기능을 개발하면서 필요한 속성들을 그때 그때 추가한 것 같았습니다.  
'LineSize는 적용되는데 DashSize는 적용 안되네'하고 DashSize를 추가하고 마찬가지로 Opacity, Angle도 그렇게 추가한 것 같았습니다.  
나중에 추가 기능이 필요해서 CommentUserInfo에 속성을 추가하면 UndoRedoData에도 속성을 추가해야 합니다.  
관리해야 할 지점이 2군데가 되고 그만큼 버그가 발생할 확률도 높아집니다.  
  
이런 식의 작업은 계속 속성들을 추가할 것이고 결국에는 CommentUserInfo와 같아질 것입니다.  
따라서 UndoRedoData에 CommentUserInfo의 속성을 추가하는 것 보다 CommentUserInfo의 인스턴스를 추가하는 것이 좋습니다.  

```CSharp
public class UndoRedoData
{
    public UndoRedoData(CommentUserInfo lhs)
    {        Item = lhs;    }
    
    public CommentUserInfo Item { get; set; }
    public CommentUserInfo State { get; set; }
}
```

이렇게 Undo, Redo를 위한 자료 구조를 정의하였습니다.  
  
Undo, Redo이 개념은 쉽습니다.  
어떤 행위를 하기 전의 상태를 저장해 두었다가 Undo를 하면 이전 상태로 되돌리고, Redo를 하면 행위가 일어난 후의 상태로 되돌리면 됩니다.  
<svg height="530.5" version="1.1" viewbox="0 0 544.5 530.5" width="544.5" xmlns="http://www.w3.org/2000/svg">
  <!--svg-source:excalidraw-->
  
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
      @font-face {
        font-family: "Assistant";
        src: url("https://excalidraw.com/Assistant-Regular.woff2");
      }
    </style>
    
  </defs>
  <rect fill="#ffffff" height="530.5" width="544.5" x="0" y="0"></rect><g stroke-linecap="round" transform="translate(10 10) rotate(0 92.5 235)"><path d="M32 0 C70.17 0.23, 105.32 -0.49, 153 0 M32 0 C76.38 1.24, 121.96 1, 153 0 M153 0 C173.59 0.91, 183.57 11.66, 185 32 M153 0 C174.04 -0.58, 186.17 9.56, 185 32 M185 32 C186.08 138.63, 184.48 245.19, 185 438 M185 32 C185.94 129.53, 185.94 227.22, 185 438 M185 438 C184.07 457.61, 174.32 470.65, 153 470 M185 438 C186.96 457.65, 175.67 468.59, 153 470 M153 470 C121.65 469.99, 90.66 467.99, 32 470 M153 470 C107.11 468.38, 61.23 469.6, 32 470 M32 470 C12 468.53, -0.88 459.19, 0 438 M32 470 C11.1 470.42, 1.33 460.19, 0 438 M0 438 C-2.88 348.26, -2.66 259.13, 0 32 M0 438 C1.27 338.98, 0.98 240.94, 0 32 M0 32 C1.45 9.33, 11.79 1.29, 32 0 M0 32 C-1.38 9.77, 8.37 0.71, 32 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g transform="translate(50 494) rotate(0 56.32996368408203 12.5)"><text direction="ltr" dominant-baseline="alphabetic" fill="#1e1e1e" font-family="Virgil, Segoe UI Emoji" font-size="20px" style="white-space: pre;" text-anchor="start" x="0" y="17.52">Undo Stack</text></g><g stroke-linecap="round" transform="translate(349.5 11.5) rotate(0 92.5 235)"><path d="M32 0 C62.91 0.67, 93.77 -1.82, 153 0 M32 0 C57.85 -1.79, 82.07 -0.16, 153 0 M153 0 C175.93 0.05, 185.35 10.93, 185 32 M153 0 C173.03 1.85, 185.27 9.18, 185 32 M185 32 C184.44 122.66, 184.64 213.41, 185 438 M185 32 C183.08 137.21, 183.27 242.82, 185 438 M185 438 C186.08 457.73, 173.56 471.81, 153 470 M185 438 C184.26 461.39, 172.08 468.18, 153 470 M153 470 C116.14 470.1, 80.89 471.69, 32 470 M153 470 C127.43 470.49, 101.91 471.05, 32 470 M32 470 C12 470.38, 1.57 457.44, 0 438 M32 470 C10.67 470.18, -1.11 461.29, 0 438 M0 438 C-1.24 352.72, -2.91 266.21, 0 32 M0 438 C-1.31 352.53, -1.28 266.54, 0 32 M0 32 C-0.77 8.81, 9.41 -1.77, 32 0 M0 32 C-1.39 11.34, 10.64 1.29, 32 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g transform="translate(388.5 495.5) rotate(0 56.76995849609375 12.5)"><text direction="ltr" dominant-baseline="alphabetic" fill="#1e1e1e" font-family="Virgil, Segoe UI Emoji" font-size="20px" style="white-space: pre;" text-anchor="start" x="0" y="17.52">Redo Stack</text></g><g stroke-linecap="round" transform="translate(15 382) rotate(0 87 21.5)"><path d="M10.75 0 C73.84 -2.94, 129.6 -0.56, 163.25 0 C167.13 -3.6, 174.98 1.92, 174 10.75 C173.11 21.45, 175.23 23.17, 174 32.25 C171.74 37.51, 173.85 40.88, 163.25 43 C128.15 41.98, 95.16 37.81, 10.75 43 C1.64 42.26, -1.28 41.43, 0 32.25 C-1.06 29.11, 1.42 22.26, 0 10.75 C-3.06 0.5, 5.44 -0.83, 10.75 0" fill="#b2f2bb" stroke-width="0" stroke="none"></path><path d="M10.75 0 C46.95 0.13, 84.86 2.37, 163.25 0 M10.75 0 C48.6 0.5, 86.34 -0.31, 163.25 0 M163.25 0 C170.75 1.57, 172.98 2.49, 174 10.75 M163.25 0 C172.68 0.2, 174.18 3.21, 174 10.75 M174 10.75 C174.18 16.53, 173.32 20.85, 174 32.25 M174 10.75 C174.81 16.12, 174.45 19.22, 174 32.25 M174 32.25 C172.57 37.44, 172.22 44.75, 163.25 43 M174 32.25 C173.64 40.07, 172.62 41.71, 163.25 43 M163.25 43 C131.84 39.7, 97.88 41.74, 10.75 43 M163.25 43 C104.32 42.2, 43.71 42.74, 10.75 43 M10.75 43 C1.67 44.48, 1.12 37.54, 0 32.25 M10.75 43 C1.55 43.24, -1.92 39.27, 0 32.25 M0 32.25 C-1.07 27.12, 0.68 22.22, 0 10.75 M0 32.25 C0.64 27.64, -0.24 22.64, 0 10.75 M0 10.75 C1.43 3.31, 3.95 0.36, 10.75 0 M0 10.75 C-2.25 5.73, 2.38 2, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(15 427.5) rotate(0 87 21.5)"><path d="M10.75 0 C64.36 4.55, 111.11 2.83, 163.25 0 C171.25 0.74, 176.56 4.07, 174 10.75 C173.16 12.39, 177.71 20.73, 174 32.25 C174.93 37.35, 168.17 42.44, 163.25 43 C124.77 43.42, 87.88 42.35, 10.75 43 C0.33 44.45, -2.14 38.26, 0 32.25 C2.83 24.4, 0.16 22.44, 0 10.75 C2.66 1.63, 1.14 2.39, 10.75 0" fill="#b2f2bb" stroke-width="0" stroke="none"></path><path d="M10.75 0 C67.49 -0.9, 120.35 0.83, 163.25 0 M10.75 0 C69.01 -0.61, 127.5 -0.88, 163.25 0 M163.25 0 C170.19 1.38, 175.68 4.46, 174 10.75 M163.25 0 C171.03 1.17, 174.74 2.2, 174 10.75 M174 10.75 C174 19.84, 173.92 26.88, 174 32.25 M174 10.75 C173.21 19.51, 174.32 27.63, 174 32.25 M174 32.25 C173.1 37.72, 170.17 44.34, 163.25 43 M174 32.25 C174.96 37.34, 168.15 43.69, 163.25 43 M163.25 43 C121.06 44, 79.63 42.01, 10.75 43 M163.25 43 C129.47 40.99, 94.86 42.36, 10.75 43 M10.75 43 C1.59 41.66, 0.36 40.65, 0 32.25 M10.75 43 C3.11 41.36, 0.4 41.1, 0 32.25 M0 32.25 C-1.24 26.5, 0.89 17.92, 0 10.75 M0 32.25 C-0.7 28.19, -0.36 21.41, 0 10.75 M0 10.75 C1.41 1.68, 3.82 1.98, 10.75 0 M0 10.75 C-0.89 5.22, 5.42 -1.53, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(14 337.5) rotate(0 87 21.5)"><path d="M10.75 0 C72.63 2.23, 131.1 -1.66, 163.25 0 C167.73 -0.15, 175.99 5.35, 174 10.75 C173.1 17.74, 173.01 26.78, 174 32.25 C170.95 36.66, 169.33 43.67, 163.25 43 C134.62 43.22, 98.97 41.08, 10.75 43 C6.99 44.75, 3.57 38.84, 0 32.25 C0.54 26.73, 2.04 16.8, 0 10.75 C-1.94 6.8, 4.19 -1.68, 10.75 0" fill="#b2f2bb" stroke-width="0" stroke="none"></path><path d="M10.75 0 C65.48 1.52, 119.97 -0.12, 163.25 0 M10.75 0 C63.14 1.44, 116.69 1.4, 163.25 0 M163.25 0 C172.09 0.28, 172.91 2.32, 174 10.75 M163.25 0 C168.59 -0.3, 172.88 4.12, 174 10.75 M174 10.75 C172.43 17.25, 176.08 19.99, 174 32.25 M174 10.75 C173.26 16.56, 173.21 23.05, 174 32.25 M174 32.25 C173.34 41.34, 169.54 43.82, 163.25 43 M174 32.25 C175.32 38.7, 172.54 40.86, 163.25 43 M163.25 43 C131.55 40.23, 100.62 42.48, 10.75 43 M163.25 43 C119.73 41.99, 74.47 42.59, 10.75 43 M10.75 43 C4.73 42.21, 0.26 38.8, 0 32.25 M10.75 43 C4.67 44.48, 1.85 37.62, 0 32.25 M0 32.25 C1.45 26.25, -0.51 23.34, 0 10.75 M0 32.25 C0.06 27.76, 0.33 24.08, 0 10.75 M0 10.75 C-1.48 5.26, 2.93 -0.22, 10.75 0 M0 10.75 C0.67 4.17, 2.39 -0.02, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(15 292.5) rotate(0 87 21.5)"><path d="M10.75 0 C74 -0.97, 131.59 -5.12, 163.25 0 C172.43 -0.16, 177.53 6.6, 174 10.75 C176.27 18.58, 174.12 20.85, 174 32.25 C171.29 39.16, 170.78 42.96, 163.25 43 C112.43 42.77, 57.76 46.41, 10.75 43 C1.81 43.74, -2.09 38.59, 0 32.25 C-0.12 26.47, -1.78 20.68, 0 10.75 C-3.08 4.86, 1.15 -3.11, 10.75 0" fill="#b2f2bb" stroke-width="0" stroke="none"></path><path d="M10.75 0 C55.7 -2.22, 97 0.1, 163.25 0 M10.75 0 C43.65 0.2, 77.92 0.31, 163.25 0 M163.25 0 C170.46 -0.09, 174.23 3.98, 174 10.75 M163.25 0 C170.28 0.47, 174.2 2.74, 174 10.75 M174 10.75 C172.26 14.48, 172.62 20.62, 174 32.25 M174 10.75 C174.49 19.08, 173.76 25.9, 174 32.25 M174 32.25 C172.83 39.74, 170.16 42.08, 163.25 43 M174 32.25 C173.31 39.22, 171.8 42.67, 163.25 43 M163.25 43 C104 44.4, 46.68 45, 10.75 43 M163.25 43 C111.86 42.76, 58.85 42.64, 10.75 43 M10.75 43 C5.16 43.12, 1.93 38.5, 0 32.25 M10.75 43 C4.6 43.71, 1.95 39.52, 0 32.25 M0 32.25 C1.16 24.38, -1.74 14.69, 0 10.75 M0 32.25 C-0.24 27.61, 0 21.78, 0 10.75 M0 10.75 C1.94 2.34, 3.74 -0.25, 10.75 0 M0 10.75 C-0.83 1.42, 3.63 -0.2, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(15 247.5) rotate(0 87 21.5)"><path d="M10.75 0 C53.17 4.36, 95.92 4.78, 163.25 0 C168.03 2.03, 170.44 2.18, 174 10.75 C173.41 17.07, 175.08 23.6, 174 32.25 C173.09 38.29, 170.2 43.99, 163.25 43 C125.86 40.52, 91.56 41.17, 10.75 43 C4.97 41.58, -2.53 38.35, 0 32.25 C-0.89 27.33, 0.45 22.71, 0 10.75 C1.84 0.87, 3.54 1.97, 10.75 0" fill="#b2f2bb" stroke-width="0" stroke="none"></path><path d="M10.75 0 C64.22 1.9, 117.76 -0.76, 163.25 0 M10.75 0 C50.23 -1.3, 91.84 -0.05, 163.25 0 M163.25 0 C172.23 0.97, 173.49 3.67, 174 10.75 M163.25 0 C170.1 -0.76, 176.12 2.37, 174 10.75 M174 10.75 C173.65 19.6, 174.24 26.35, 174 32.25 M174 10.75 C173.38 18.83, 173.32 27.37, 174 32.25 M174 32.25 C174.02 39.04, 168.71 41.42, 163.25 43 M174 32.25 C173.16 40.35, 169.09 42.28, 163.25 43 M163.25 43 C129.39 44.14, 98.33 43.63, 10.75 43 M163.25 43 C104.84 43.73, 47.98 44.56, 10.75 43 M10.75 43 C4.19 42.45, -1.02 38.96, 0 32.25 M10.75 43 C4.22 41.45, -2.1 38.63, 0 32.25 M0 32.25 C-0.45 24.71, 0.21 22.6, 0 10.75 M0 32.25 C0.3 22.94, -0.12 15.62, 0 10.75 M0 10.75 C-0.12 3.19, 2.06 -0.57, 10.75 0 M0 10.75 C1.43 3.01, 1.73 2.27, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(15 202.5) rotate(0 87 21.5)"><path d="M10.75 0 C56.36 1.05, 102.48 2.81, 163.25 0 C172.9 -2.25, 171.49 2.44, 174 10.75 C176.75 14.24, 173.87 21.59, 174 32.25 C175.06 41.97, 172.4 45.14, 163.25 43 C105.13 42.69, 46.45 41.05, 10.75 43 C2.86 42.48, 1.03 41.12, 0 32.25 C2.93 27.58, -0.78 21.31, 0 10.75 C-0.27 0.82, 2.71 -1.57, 10.75 0" fill="#b2f2bb" stroke-width="0" stroke="none"></path><path d="M10.75 0 C64.47 0.33, 118.51 0.19, 163.25 0 M10.75 0 C47.33 0.31, 83.89 0.9, 163.25 0 M163.25 0 C169.96 1.46, 175.8 4.52, 174 10.75 M163.25 0 C172.47 -1.54, 175.11 5.45, 174 10.75 M174 10.75 C174.99 18.54, 173.36 24.74, 174 32.25 M174 10.75 C175.05 18.04, 173.79 27.95, 174 32.25 M174 32.25 C172.71 41.27, 171.9 44.39, 163.25 43 M174 32.25 C174.22 39.45, 171.44 40.95, 163.25 43 M163.25 43 C102.24 44.67, 43.31 44.57, 10.75 43 M163.25 43 C126.13 42.62, 86.65 43.82, 10.75 43 M10.75 43 C3.91 41.74, 1.14 41.32, 0 32.25 M10.75 43 C2.21 41.86, 1.83 39.82, 0 32.25 M0 32.25 C1.83 25.87, -2.1 22.92, 0 10.75 M0 32.25 C-0.57 24.42, -0.26 17.4, 0 10.75 M0 10.75 C1.83 2.21, 4.88 -0.52, 10.75 0 M0 10.75 C-1.05 2.71, 2.82 -1.84, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(15 157.5) rotate(0 87 21.5)"><path d="M10.75 0 C50.08 1.2, 85.44 -4.18, 163.25 0 C173.86 -1.71, 173.46 1.18, 174 10.75 C177.15 13.98, 173.24 27.3, 174 32.25 C173.76 36.12, 173.97 40.19, 163.25 43 C106.47 41.54, 45.13 40.34, 10.75 43 C2.87 43.74, 3.4 39.42, 0 32.25 C-2.63 30.3, 1.68 24.16, 0 10.75 C-0.68 1.24, 5.79 -1.53, 10.75 0" fill="#b2f2bb" stroke-width="0" stroke="none"></path><path d="M10.75 0 C44.35 0.69, 79.77 1.72, 163.25 0 M10.75 0 C50.54 1.34, 88.99 -0.41, 163.25 0 M163.25 0 C171.47 1.26, 173.82 5.55, 174 10.75 M163.25 0 C172.18 1.39, 173.87 3.52, 174 10.75 M174 10.75 C174.59 18.11, 174.68 26.07, 174 32.25 M174 10.75 C172.91 14.51, 173.5 18.76, 174 32.25 M174 32.25 C172.8 37.72, 170.56 42.15, 163.25 43 M174 32.25 C175.17 39.3, 171.53 43.73, 163.25 43 M163.25 43 C111.66 44, 59.68 45.1, 10.75 43 M163.25 43 C116.93 45.01, 69.25 43.63, 10.75 43 M10.75 43 C3.77 43.57, 1.42 38.89, 0 32.25 M10.75 43 C4.61 45.14, 0.41 40.02, 0 32.25 M0 32.25 C-0.9 24.46, 1.88 19.12, 0 10.75 M0 32.25 C-0.8 26.77, -0.67 20, 0 10.75 M0 10.75 C1.81 1.88, 3.71 -1.26, 10.75 0 M0 10.75 C1.87 1.66, 2.02 0.23, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(354.5 388) rotate(0 87 21.5)"><path d="M10.75 0 C67.27 0.19, 121.61 -1.29, 163.25 0 C168.15 1.19, 173.95 6.27, 174 10.75 C171.58 18.7, 176.92 22.35, 174 32.25 C172.5 36.78, 167.48 45.54, 163.25 43 C135.03 45.77, 96.63 41.56, 10.75 43 C5.88 43.93, 1.45 42.52, 0 32.25 C1.5 24.9, -1.97 22.32, 0 10.75 C-0.19 6.13, 5.58 1.28, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C65.47 -1.96, 117.88 -2.84, 163.25 0 M10.75 0 C56.88 -0.2, 102.37 1.42, 163.25 0 M163.25 0 C169.79 0.06, 173.94 2.73, 174 10.75 M163.25 0 C172.16 0.14, 174.24 3.01, 174 10.75 M174 10.75 C172.37 15.76, 175.77 23.05, 174 32.25 M174 10.75 C173.22 17.41, 174.52 25.02, 174 32.25 M174 32.25 C172.48 39.8, 170.6 44.44, 163.25 43 M174 32.25 C176.05 38.01, 169.97 42.58, 163.25 43 M163.25 43 C131.05 46.28, 100.03 44.12, 10.75 43 M163.25 43 C126.51 41, 89.83 41.06, 10.75 43 M10.75 43 C3.41 42.89, -0.09 38.76, 0 32.25 M10.75 43 C2.46 42.47, -2.2 39.5, 0 32.25 M0 32.25 C0.12 27.57, -1.63 20.14, 0 10.75 M0 32.25 C-0.51 25.96, 0.63 20.23, 0 10.75 M0 10.75 C0.13 5.07, 2.68 -0.05, 10.75 0 M0 10.75 C0.68 3.1, 1.84 2.22, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(354.5 433.5) rotate(0 87 21.5)"><path d="M10.75 0 C49.77 -1.79, 83.47 2.17, 163.25 0 C170.37 2.69, 172.59 2.4, 174 10.75 C176.8 16.72, 172.26 19.29, 174 32.25 C171.06 41.95, 167.06 41.46, 163.25 43 C111.3 42.82, 68.72 45.67, 10.75 43 C5.03 46.1, 0.27 36.07, 0 32.25 C-2.45 29.36, -0.32 22.44, 0 10.75 C2 4.87, 3.67 0.24, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C70.85 -1.04, 127.95 -0.35, 163.25 0 M10.75 0 C49.1 2.11, 87.63 1.43, 163.25 0 M163.25 0 C170.35 -0.86, 175.51 3.71, 174 10.75 M163.25 0 C170.65 -0.57, 173.14 2.95, 174 10.75 M174 10.75 C175.66 18.66, 174.39 23.47, 174 32.25 M174 10.75 C174.5 19.22, 173.1 27.56, 174 32.25 M174 32.25 C174.18 40.86, 172.2 41.78, 163.25 43 M174 32.25 C173.55 38.99, 168.39 45.03, 163.25 43 M163.25 43 C104.46 44.07, 41.64 43.25, 10.75 43 M163.25 43 C128.98 40.92, 94.71 41.66, 10.75 43 M10.75 43 C3.49 42.34, -0.97 38.96, 0 32.25 M10.75 43 C1.38 43.08, -0.71 39.32, 0 32.25 M0 32.25 C-1.65 23.13, -0.35 13.77, 0 10.75 M0 32.25 C0.63 27.11, 0.21 22.41, 0 10.75 M0 10.75 C-0.9 3.53, 4.18 -0.42, 10.75 0 M0 10.75 C-1.74 5.8, 4.93 0.95, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(353.5 343.5) rotate(0 87 21.5)"><path d="M10.75 0 C48.76 3.3, 91.24 4.81, 163.25 0 C169.01 -1.18, 172.55 1.29, 174 10.75 C172.83 15.97, 171.39 28.99, 174 32.25 C170.65 37.87, 171.05 46.32, 163.25 43 C110.11 42.47, 53.83 44.63, 10.75 43 C3.85 39.65, -0.46 40.55, 0 32.25 C0.06 28.79, 2.25 21.52, 0 10.75 C0.08 3.82, 0.96 1.35, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C51.4 0.32, 91.06 1.59, 163.25 0 M10.75 0 C42.2 -1.05, 74.23 -1.51, 163.25 0 M163.25 0 C171.93 0.12, 174.21 3.08, 174 10.75 M163.25 0 C169.56 -0.63, 174.49 1.78, 174 10.75 M174 10.75 C174.76 15.43, 175.93 20.96, 174 32.25 M174 10.75 C173.38 16.55, 174.23 22.68, 174 32.25 M174 32.25 C175.78 38.2, 170.03 42.63, 163.25 43 M174 32.25 C171.97 41.45, 172.6 43.14, 163.25 43 M163.25 43 C102.36 41.6, 42.33 42.65, 10.75 43 M163.25 43 C130.32 41.74, 97.51 41.47, 10.75 43 M10.75 43 C2.61 42.54, -1.91 39.49, 0 32.25 M10.75 43 C2.88 42.91, 2.29 39.55, 0 32.25 M0 32.25 C-0.16 23.31, -0.9 15.66, 0 10.75 M0 32.25 C-0.04 26.97, -0.56 20.19, 0 10.75 M0 10.75 C0.59 3.16, 2.07 1.93, 10.75 0 M0 10.75 C1.34 4.53, 2.34 1.19, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(354.5 298.5) rotate(0 87 21.5)"><path d="M10.75 0 C44.69 1.79, 77.32 -2.09, 163.25 0 C168.97 -2.29, 176.34 6.63, 174 10.75 C170.9 19.97, 170.48 22.57, 174 32.25 C174.63 42.74, 172.7 39.46, 163.25 43 C127.09 46.81, 88.29 40.36, 10.75 43 C3.13 44.14, -0.74 37.09, 0 32.25 C2.02 25.12, 0.1 15.66, 0 10.75 C-2.62 4.93, 7.09 -1.92, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C43.69 1.06, 76.66 0.17, 163.25 0 M10.75 0 C67.26 -0.47, 124.59 0.02, 163.25 0 M163.25 0 C170.62 -0.5, 173.26 3.03, 174 10.75 M163.25 0 C170.9 -1.8, 173.27 5.68, 174 10.75 M174 10.75 C175.79 16.95, 173.27 27.09, 174 32.25 M174 10.75 C173.93 18.26, 174.73 23.72, 174 32.25 M174 32.25 C173.61 39.05, 168.65 44.77, 163.25 43 M174 32.25 C176.18 39.55, 172.52 44.63, 163.25 43 M163.25 43 C118.45 42.02, 74.97 42.03, 10.75 43 M163.25 43 C129.5 42.59, 95.37 42.69, 10.75 43 M10.75 43 C1.67 43.07, -0.61 39.33, 0 32.25 M10.75 43 C5.87 43.13, 1.27 37.54, 0 32.25 M0 32.25 C-1.04 25.06, -0.37 21.48, 0 10.75 M0 32.25 C-0.47 25.44, 0.28 18.47, 0 10.75 M0 10.75 C-1.51 5.51, 4.75 0.83, 10.75 0 M0 10.75 C-1.25 4.77, 2.76 0.98, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(354.5 253.5) rotate(0 87 21.5)"><path d="M10.75 0 C60.11 -3.23, 110.86 -4.34, 163.25 0 C172.76 3.04, 174.39 2.09, 174 10.75 C170.33 14.09, 174.31 23.82, 174 32.25 C176.29 35.88, 168.5 45.3, 163.25 43 C113.82 42.01, 63.4 46.5, 10.75 43 C2.84 40.67, 3.29 39.22, 0 32.25 C-0.13 24.52, -2.84 17.66, 0 10.75 C3.51 1.66, 0.91 1.75, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C48.06 -0.79, 90.45 -0.93, 163.25 0 M10.75 0 C57.72 0.71, 103.28 0.4, 163.25 0 M163.25 0 C169.67 -0.55, 174.42 2.01, 174 10.75 M163.25 0 C169.68 2.1, 175.15 4.23, 174 10.75 M174 10.75 C173.4 17.31, 174.5 19.79, 174 32.25 M174 10.75 C174.91 17.01, 173.82 24.3, 174 32.25 M174 32.25 C172.24 41.18, 172.31 43.12, 163.25 43 M174 32.25 C176.1 41.05, 170.05 41.63, 163.25 43 M163.25 43 C124.58 42.83, 87.71 42.75, 10.75 43 M163.25 43 C117.83 42.27, 72.42 42.53, 10.75 43 M10.75 43 C2.97 42.92, 1.99 39.53, 0 32.25 M10.75 43 C4.86 41.12, -0.61 39.03, 0 32.25 M0 32.25 C-0.29 28.18, 0.43 22.28, 0 10.75 M0 32.25 C0.39 23.99, -0.66 17.12, 0 10.75 M0 10.75 C1.17 4.41, 2.5 1.03, 10.75 0 M0 10.75 C-0.83 4.56, 1.81 -1.45, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(354.5 208.5) rotate(0 87 21.5)"><path d="M10.75 0 C66.45 -1.39, 127.4 3.94, 163.25 0 C170.8 -1.5, 171.37 0.64, 174 10.75 C174.27 22.03, 175.93 23.14, 174 32.25 C172.08 41.71, 171.35 44.45, 163.25 43 C103.92 41.58, 44.76 38.12, 10.75 43 C6.87 42.81, 2.55 41.41, 0 32.25 C-2.63 26.38, 3.5 15.9, 0 10.75 C-2.67 5.34, 1.36 3.06, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C60.96 -0.25, 108.4 0.31, 163.25 0 M10.75 0 C50.07 -0.34, 88.81 -0.37, 163.25 0 M163.25 0 C170.84 -1.57, 173.36 5.41, 174 10.75 M163.25 0 C171.57 0.65, 172.75 5.57, 174 10.75 M174 10.75 C174.23 14.26, 174.3 20.98, 174 32.25 M174 10.75 C174 18.56, 173.31 27.63, 174 32.25 M174 32.25 C175.9 39.54, 172.25 44.42, 163.25 43 M174 32.25 C173.63 38.05, 169.09 41.26, 163.25 43 M163.25 43 C116.68 42.75, 73.16 42.83, 10.75 43 M163.25 43 C121.57 42.69, 81.49 42.61, 10.75 43 M10.75 43 C5.57 43.11, 1.11 37.78, 0 32.25 M10.75 43 C2.97 42.61, -1.5 38.18, 0 32.25 M0 32.25 C0.36 27.34, 1.53 21.26, 0 10.75 M0 32.25 C-0.82 26.82, 0.52 19.87, 0 10.75 M0 10.75 C-1.08 4.62, 2.86 0.85, 10.75 0 M0 10.75 C-1.77 2.14, 4.34 -0.03, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(354.5 163.5) rotate(0 87 21.5)"><path d="M10.75 0 C53.84 4.79, 92.63 0.25, 163.25 0 C167.78 -2.94, 176.54 0.23, 174 10.75 C176.35 12.74, 172.15 24.11, 174 32.25 C174.93 40.87, 173.52 43.27, 163.25 43 C130.95 41.54, 103.43 43.67, 10.75 43 C6.13 45, 1.28 39.5, 0 32.25 C3.79 23.74, -2.39 20.82, 0 10.75 C-2.22 6.64, 1.53 -1.6, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C52.82 0.41, 93.92 1.99, 163.25 0 M10.75 0 C57.06 0.11, 104.33 -0.4, 163.25 0 M163.25 0 C169.78 1.83, 175 4.15, 174 10.75 M163.25 0 C169.16 1.99, 172.48 2.68, 174 10.75 M174 10.75 C174.42 18.76, 175.47 28.19, 174 32.25 M174 10.75 C173.08 16.77, 174.91 21.08, 174 32.25 M174 32.25 C175.83 40.83, 170.09 41.81, 163.25 43 M174 32.25 C172.68 37.68, 170.3 41.05, 163.25 43 M163.25 43 C118.14 42.77, 72.58 41.89, 10.75 43 M163.25 43 C120.68 43.01, 79.71 43.11, 10.75 43 M10.75 43 C4.69 41.37, -0.53 39.08, 0 32.25 M10.75 43 C2.09 41.76, -1.51 38.95, 0 32.25 M0 32.25 C1.45 23.84, -0.09 17.83, 0 10.75 M0 32.25 C0.75 26.66, -0.38 20.77, 0 10.75 M0 10.75 C-0.72 4.43, 2.04 -1.26, 10.75 0 M0 10.75 C0.76 3.55, 5.3 -0.9, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(354 118.5) rotate(0 87 21.5)"><path d="M10.75 0 C58.57 2.02, 109.41 3.27, 163.25 0 C172.96 -0.16, 177.09 1.28, 174 10.75 C176.03 13.47, 174.69 24.78, 174 32.25 C173.53 37.43, 172.34 45.32, 163.25 43 C116.26 44.5, 65.05 44.02, 10.75 43 C3.02 45.54, 2.45 41.52, 0 32.25 C3.19 27.33, -1.45 17.37, 0 10.75 C1.46 3.4, 2.78 2.68, 10.75 0" fill="#b2f2bb" stroke-width="0" stroke="none"></path><path d="M10.75 0 C56.15 -0.73, 100.64 -1.1, 163.25 0 M163.25 0 C169.19 -1.06, 174.21 2.04, 174 10.75 M174 10.75 C173.35 18.02, 173.8 24.25, 174 32.25 M174 32.25 C172.34 40.55, 171.1 41.91, 163.25 43 M163.25 43 C115.36 43.8, 69.76 42.31, 10.75 43 M10.75 43 C1.8 42.88, -0.18 39.79, 0 32.25 M0 32.25 C1.72 26.28, 0.31 20.36, 0 10.75 M0 10.75 C-1.18 4.87, 1.82 -1.3, 10.75 0" fill="none" stroke-dasharray="8 10" stroke-width="2.5" stroke="#1e1e1e"></path></g><g stroke-linecap="round"><g transform="translate(192 181) rotate(0 79.5 -20.61335996044963)"><path d="M0.73 -0.75 C13.05 -5.96, 46.56 -24.06, 72.94 -30.85 C99.32 -37.63, 144.82 -39.8, 159.03 -41.45 M-0.34 1.48 C12.42 -3.56, 48.66 -22.28, 75.09 -29.23 C101.53 -36.18, 144.46 -37.94, 158.27 -40.24" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g transform="translate(192 181) rotate(0 79.5 -20.61335996044963)"><path d="M135.85 -29.2 C139.45 -33.51, 145.83 -34.1, 158.27 -40.24 M135.85 -29.2 C141.46 -32.44, 148.65 -35.62, 158.27 -40.24" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g transform="translate(192 181) rotate(0 79.5 -20.61335996044963)"><path d="M133.99 -46.2 C138.06 -46.82, 144.85 -43.71, 158.27 -40.24 M133.99 -46.2 C140.01 -44.66, 147.72 -43.05, 158.27 -40.24" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g></g><mask></mask><g transform="translate(255.8255884890134 169.6961430098903) rotate(0 23.03998565673828 12.5)"><text direction="ltr" dominant-baseline="alphabetic" fill="#1e1e1e" font-family="Virgil, Segoe UI Emoji" font-size="20px" style="white-space: pre;" text-anchor="start" x="0" y="17.52">Undo</text></g></svg>

  <svg height="530.5" version="1.1" viewbox="0 0 544.5 530.5" width="544.5" xmlns="http://www.w3.org/2000/svg">
  <!--svg-source:excalidraw-->
  
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
      @font-face {
        font-family: "Assistant";
        src: url("https://excalidraw.com/Assistant-Regular.woff2");
      }
    </style>
    
  </defs>
  <rect fill="#ffffff" height="530.5" width="544.5" x="0" y="0"></rect><g stroke-linecap="round" transform="translate(10 10) rotate(0 92.5 235.00000000000003)"><path d="M32 0 C65.1 -0.37, 92.79 0.31, 153 0 M32 0 C58.97 2, 84.03 0.75, 153 0 M153 0 C172.96 1.89, 185.72 10.52, 185 32 M153 0 C175.83 -2.15, 184.14 8.71, 185 32 M185 32 C185.57 130.87, 187.01 229.42, 185 438 M185 32 C186.97 155.31, 186.76 278.28, 185 438 M185 438 C185.19 460.4, 175.32 469.23, 153 470 M185 438 C187.01 459.48, 172.43 469.2, 153 470 M153 470 C108.37 468.97, 64.32 468.6, 32 470 M153 470 C123.35 470.73, 91.13 469.61, 32 470 M32 470 C10.64 471.54, -1.42 458.67, 0 438 M32 470 C9.68 470.13, -1.32 458.18, 0 438 M0 438 C-0.27 344.97, 0.23 251.93, 0 32 M0 438 C0.81 345.38, 0.54 253.86, 0 32 M0 32 C1.01 12.2, 9.21 -0.15, 32 0 M0 32 C0.71 11.9, 8.56 1.81, 32 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g transform="translate(50 494.00000000000006) rotate(0 56.32996368408203 12.5)"><text direction="ltr" dominant-baseline="alphabetic" fill="#1e1e1e" font-family="Virgil, Segoe UI Emoji" font-size="20px" style="white-space: pre;" text-anchor="start" x="0" y="17.52">Undo Stack</text></g><g stroke-linecap="round" transform="translate(349.5 11.5) rotate(0 92.5 235.00000000000003)"><path d="M32 0 C67.31 -0.25, 104.19 0.5, 153 0 M32 0 C79.49 1.27, 128.72 0.25, 153 0 M153 0 C175.63 -1.87, 184.25 8.96, 185 32 M153 0 C173.05 1.54, 186.44 8.72, 185 32 M185 32 C186.03 146.24, 186.43 258.03, 185 438 M185 32 C183.52 163.58, 183.74 294.34, 185 438 M185 438 C186.75 459.46, 172.68 469.3, 153 470 M185 438 C186.35 460.01, 172.61 468.56, 153 470 M153 470 C116.47 469.31, 82.76 471.48, 32 470 M153 470 C114.51 469.62, 75.33 468.52, 32 470 M32 470 C9.81 470.11, -1.14 458.33, 0 438 M32 470 C9.03 470.35, -2.09 459.5, 0 438 M0 438 C-1.98 317, -1.23 196.66, 0 32 M0 438 C1.98 344.44, 1.29 249.99, 0 32 M0 32 C0.62 11.74, 8.83 1.58, 32 0 M0 32 C-1.3 10.39, 9.02 -1.49, 32 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g transform="translate(388.5 495.50000000000006) rotate(0 56.76995849609375 12.5)"><text direction="ltr" dominant-baseline="alphabetic" fill="#1e1e1e" font-family="Virgil, Segoe UI Emoji" font-size="20px" style="white-space: pre;" text-anchor="start" x="0" y="17.52">Redo Stack</text></g><g stroke-linecap="round" transform="translate(15 382.00000000000006) rotate(0 87 21.5)"><path d="M10.75 0 C52.74 1.9, 83.98 1.1, 163.25 0 C167.34 0.16, 174.11 5.22, 174 10.75 C173.98 14.76, 176.64 21.2, 174 32.25 C173.8 37.69, 170.05 45.3, 163.25 43 C108.74 44.83, 45.84 40.04, 10.75 43 C1.57 42.6, 3.14 42.01, 0 32.25 C3.7 25.78, 0.46 17.74, 0 10.75 C-0.17 2.12, 5.57 1.58, 10.75 0" fill="#b2f2bb" stroke-width="0" stroke="none"></path><path d="M10.75 0 C60.16 -2.62, 105.11 -2.12, 163.25 0 M10.75 0 C71.55 -0.82, 130.68 -0.74, 163.25 0 M163.25 0 C169.3 1.34, 175.25 1.89, 174 10.75 M163.25 0 C169.93 1.01, 172.37 3.66, 174 10.75 M174 10.75 C174.55 17.88, 173.84 27.9, 174 32.25 M174 10.75 C174.98 18.41, 173.28 25.6, 174 32.25 M174 32.25 C175.17 40, 168.91 41.75, 163.25 43 M174 32.25 C173.86 37.21, 169.85 41.9, 163.25 43 M163.25 43 C120.87 42.74, 75.87 44.33, 10.75 43 M163.25 43 C105.36 42.55, 47.75 41.99, 10.75 43 M10.75 43 C2.16 43.31, -1.81 39.56, 0 32.25 M10.75 43 C3.51 44.19, -0.15 37.74, 0 32.25 M0 32.25 C-1.36 25.21, 1.19 22.17, 0 10.75 M0 32.25 C0.47 24.69, -0.76 16.84, 0 10.75 M0 10.75 C-1.13 3.34, 2.16 -1.3, 10.75 0 M0 10.75 C0.72 4.48, 2.74 -1.99, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(15 427.50000000000006) rotate(0 87 21.5)"><path d="M10.75 0 C38.31 -0.98, 69.94 0.72, 163.25 0 C170.53 1.64, 170.86 1.11, 174 10.75 C176.94 18.59, 173.83 22.11, 174 32.25 C173.63 41.72, 173.24 42.08, 163.25 43 C113.92 40.93, 66.61 43.78, 10.75 43 C6.73 45.59, 3.59 36.99, 0 32.25 C-0.17 29.22, -0.54 19.37, 0 10.75 C1.99 5.16, 3.64 -0.97, 10.75 0" fill="#b2f2bb" stroke-width="0" stroke="none"></path><path d="M10.75 0 C63.42 0.06, 119.05 2.15, 163.25 0 M10.75 0 C54.99 0.57, 99.41 2.1, 163.25 0 M163.25 0 C171.67 -1.7, 173.58 4.46, 174 10.75 M163.25 0 C168.78 0.08, 176.17 4.48, 174 10.75 M174 10.75 C173.81 16.74, 175.12 23.34, 174 32.25 M174 10.75 C173.36 16.03, 174.77 22.3, 174 32.25 M174 32.25 C172.5 38.16, 170.3 41.08, 163.25 43 M174 32.25 C173.44 38.32, 169.96 44.05, 163.25 43 M163.25 43 C102.09 41.75, 46.26 40.35, 10.75 43 M163.25 43 C121.97 42.58, 81.13 43.24, 10.75 43 M10.75 43 C1.77 43.15, -0.06 40.45, 0 32.25 M10.75 43 C3.43 41.33, -0.97 39.3, 0 32.25 M0 32.25 C1.33 27.34, 1.68 18.96, 0 10.75 M0 32.25 C-0.98 26.75, -0.63 19.55, 0 10.75 M0 10.75 C-1.43 2.29, 4.21 0.78, 10.75 0 M0 10.75 C-0.84 1.59, 2.47 0.01, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(14 337.50000000000006) rotate(0 87 21.5)"><path d="M10.75 0 C50.33 1.33, 96.18 2.81, 163.25 0 C167.28 -2.48, 174.16 3.82, 174 10.75 C174.12 15.13, 173.95 25.27, 174 32.25 C176.82 38.5, 170.79 46.18, 163.25 43 C108.93 40.13, 61.79 43.12, 10.75 43 C7.17 40.57, -1.24 42.86, 0 32.25 C-0.19 23.07, 1.97 18.4, 0 10.75 C0.05 2.62, 5.2 1.37, 10.75 0" fill="#b2f2bb" stroke-width="0" stroke="none"></path><path d="M10.75 0 C44.08 1.77, 73.47 2.35, 163.25 0 M10.75 0 C41.67 1.97, 74.34 0.45, 163.25 0 M163.25 0 C169.99 0.88, 172.58 3.65, 174 10.75 M163.25 0 C172.59 0.89, 173.31 4.12, 174 10.75 M174 10.75 C175.04 16.73, 173.21 22.49, 174 32.25 M174 10.75 C174.41 17.63, 173.07 23.3, 174 32.25 M174 32.25 C173.88 37.49, 169.93 42.05, 163.25 43 M174 32.25 C173.55 40.47, 172.45 43.41, 163.25 43 M163.25 43 C131.32 41.57, 95.67 42.12, 10.75 43 M163.25 43 C115.95 42.39, 69.16 42.31, 10.75 43 M10.75 43 C3.52 44.04, -0.13 37.96, 0 32.25 M10.75 43 C2.61 42.88, -0.57 37.84, 0 32.25 M0 32.25 C1.41 25.95, -0.28 23.19, 0 10.75 M0 32.25 C-0.37 24.52, -0.52 16.39, 0 10.75 M0 10.75 C0.62 4.36, 2.85 -1.73, 10.75 0 M0 10.75 C-1.11 3.59, 1.38 2.29, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(15 292.50000000000006) rotate(0 87 21.5)"><path d="M10.75 0 C50.11 1.52, 86.11 -2.6, 163.25 0 C170.58 0.24, 173.43 6.49, 174 10.75 C173.61 20.28, 176.8 24.28, 174 32.25 C174.37 42.6, 171.96 40.98, 163.25 43 C134.39 45.29, 102.83 40.27, 10.75 43 C2.34 46.44, 2.12 39.62, 0 32.25 C2.01 25.78, 0.07 15.18, 0 10.75 C1.61 4.96, 2.13 -3.35, 10.75 0" fill="#b2f2bb" stroke-width="0" stroke="none"></path><path d="M10.75 0 C45.87 0.75, 79.41 -1.3, 163.25 0 M10.75 0 C44.13 -1.87, 76.05 -0.58, 163.25 0 M163.25 0 C169 0.07, 175.89 4.36, 174 10.75 M163.25 0 C169.73 0.54, 172.44 3.31, 174 10.75 M174 10.75 C173.35 19.15, 174.24 22.41, 174 32.25 M174 10.75 C173.37 15.82, 174.07 21.19, 174 32.25 M174 32.25 C173.51 38.46, 170.02 43.92, 163.25 43 M174 32.25 C176.04 39.83, 168.56 40.82, 163.25 43 M163.25 43 C117.01 41.06, 72.2 40.77, 10.75 43 M163.25 43 C124.25 43.31, 87.02 43.75, 10.75 43 M10.75 43 C3.45 41.54, -0.84 39.32, 0 32.25 M10.75 43 C3.01 41.42, -1.72 40.77, 0 32.25 M0 32.25 C-0.31 25.33, 0.91 15.34, 0 10.75 M0 32.25 C-0.59 23.46, 0.43 16.35, 0 10.75 M0 10.75 C-0.73 1.85, 2.62 0.01, 10.75 0 M0 10.75 C-2.2 5.87, 3.12 -2.28, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(15 247.50000000000006) rotate(0 87 21.5)"><path d="M10.75 0 C54.04 -3.73, 103.76 -1.01, 163.25 0 C169.85 2.91, 175.3 3.39, 174 10.75 C176.78 15.25, 174.33 24.77, 174 32.25 C175.55 37.4, 167.17 40.98, 163.25 43 C122.76 42.55, 73.86 48.42, 10.75 43 C5.7 43.2, 2.68 39.25, 0 32.25 C-0.16 25.71, 1.4 22.47, 0 10.75 C-1.45 0.23, 5.48 -1.59, 10.75 0" fill="#b2f2bb" stroke-width="0" stroke="none"></path><path d="M10.75 0 C60.14 -1.74, 111.57 -2.11, 163.25 0 M10.75 0 C66.53 1.73, 122.02 1.33, 163.25 0 M163.25 0 C172.31 0.78, 173.4 4.05, 174 10.75 M163.25 0 C168.86 -0.28, 174.22 4.81, 174 10.75 M174 10.75 C174.05 16.6, 173.22 26.93, 174 32.25 M174 10.75 C173.78 16.87, 173.59 24.44, 174 32.25 M174 32.25 C173.61 40.33, 172.19 43.36, 163.25 43 M174 32.25 C172.15 37.24, 170.39 44.77, 163.25 43 M163.25 43 C128.42 41.2, 92.36 40.93, 10.75 43 M163.25 43 C115.13 43.63, 67 42.38, 10.75 43 M10.75 43 C2.74 42.9, -0.5 38.05, 0 32.25 M10.75 43 C1.86 44.36, 1.16 41.18, 0 32.25 M0 32.25 C1.09 25.53, 1.59 21.36, 0 10.75 M0 32.25 C0.46 26.45, -0.21 19, 0 10.75 M0 10.75 C-0.96 3.59, 1.67 1.99, 10.75 0 M0 10.75 C-0.47 1.3, 2.6 -1.97, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(15 202.50000000000006) rotate(0 87 21.5)"><path d="M10.75 0 C63.6 2.13, 115.57 4.8, 163.25 0 C171.71 -0.2, 172.27 3.22, 174 10.75 C174.67 21.76, 175.85 24.38, 174 32.25 C170.76 37.4, 170.02 46.14, 163.25 43 C105.28 44.59, 51.91 41.35, 10.75 43 C6.27 42.83, -1.46 41.41, 0 32.25 C1.61 26.23, -1.45 14.11, 0 10.75 C1.9 1.99, 1.12 0.04, 10.75 0" fill="#b2f2bb" stroke-width="0" stroke="none"></path><path d="M10.75 0 C64.69 -0.55, 123.39 1.82, 163.25 0 M10.75 0 C42.86 -0.64, 77.33 -0.28, 163.25 0 M163.25 0 C169.82 0.47, 172.65 3.34, 174 10.75 M163.25 0 C170.64 1.23, 175.13 2.7, 174 10.75 M174 10.75 C173.31 20.25, 174.6 25.9, 174 32.25 M174 10.75 C173.74 15.38, 173.79 21.41, 174 32.25 M174 32.25 C175.77 39.78, 168.81 41.1, 163.25 43 M174 32.25 C173.97 41.18, 168.79 42.24, 163.25 43 M163.25 43 C123.06 40.71, 85.18 40.31, 10.75 43 M163.25 43 C116.32 43.06, 69.09 43.74, 10.75 43 M10.75 43 C3.09 41.63, -1.5 40.6, 0 32.25 M10.75 43 C4.75 44.77, -1.68 39.25, 0 32.25 M0 32.25 C1.46 24.01, -0.36 16.59, 0 10.75 M0 32.25 C-0.43 26.33, -0.55 22.14, 0 10.75 M0 10.75 C-1.92 5.57, 3.18 -1.98, 10.75 0 M0 10.75 C-0.98 1.62, 3.69 0.07, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(354.5 388.00000000000006) rotate(0 87 21.5)"><path d="M10.75 0 C58.82 -2.42, 102.57 -2.59, 163.25 0 C172.72 2.82, 173.08 3.95, 174 10.75 C170.92 17.08, 173.77 30.59, 174 32.25 C176.59 43.01, 167.99 41.76, 163.25 43 C105.59 42.99, 41.11 45.15, 10.75 43 C5.16 43.05, -0.97 41.03, 0 32.25 C2.06 23.39, -2.3 17.76, 0 10.75 C2.65 4.67, 3.38 -2.46, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C46.28 -1.38, 86.08 -2.38, 163.25 0 M10.75 0 C56.72 -0.36, 102.61 -0.71, 163.25 0 M163.25 0 C170.61 1.07, 174.98 2.82, 174 10.75 M163.25 0 C172.42 0.15, 172.1 2.78, 174 10.75 M174 10.75 C172.81 18.34, 172.14 25.68, 174 32.25 M174 10.75 C174.84 16.36, 173.15 20.65, 174 32.25 M174 32.25 C173.98 40.95, 169 42.34, 163.25 43 M174 32.25 C173.01 39.54, 169.1 41.85, 163.25 43 M163.25 43 C128.47 41.55, 94.43 41.49, 10.75 43 M163.25 43 C128.36 42.24, 93.21 43.51, 10.75 43 M10.75 43 C4.59 44.53, -1.46 39.27, 0 32.25 M10.75 43 C4.3 44.24, -2.11 41.23, 0 32.25 M0 32.25 C-1.27 27.63, 0.8 21.04, 0 10.75 M0 32.25 C-0.85 28.66, -0.1 22.09, 0 10.75 M0 10.75 C-0.85 1.87, 3.67 0.06, 10.75 0 M0 10.75 C1.05 1.58, 2 0.1, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(354.5 433.50000000000006) rotate(0 87 21.5)"><path d="M10.75 0 C67.1 -0.22, 129.2 2.97, 163.25 0 C169.5 0.37, 177.18 5.13, 174 10.75 C173.26 19.14, 176.24 24.83, 174 32.25 C171.57 38.18, 173.86 45.12, 163.25 43 C115.18 44.87, 71.62 42.93, 10.75 43 C2.62 44.61, 1.37 37.97, 0 32.25 C-2.66 27.85, 2.44 24.44, 0 10.75 C-0.2 1.12, 4.19 1.02, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C66.94 -1.1, 121.43 2.21, 163.25 0 M10.75 0 C61.75 -0.48, 114.21 0.18, 163.25 0 M163.25 0 C171.4 -0.77, 175.75 3.71, 174 10.75 M163.25 0 C168.52 -0.8, 175.35 4.26, 174 10.75 M174 10.75 C171.94 15.1, 172.91 20.03, 174 32.25 M174 10.75 C173.38 17.24, 174.18 26.39, 174 32.25 M174 32.25 C172.58 38.75, 169.56 43.11, 163.25 43 M174 32.25 C172.68 38.26, 168.78 43.35, 163.25 43 M163.25 43 C132.36 42.82, 97.95 42.11, 10.75 43 M163.25 43 C117.52 42.54, 73.79 42.72, 10.75 43 M10.75 43 C2.13 42.85, 0.62 40.49, 0 32.25 M10.75 43 C1.48 44.81, -1.3 39.14, 0 32.25 M0 32.25 C0.92 26.6, -1.59 21.46, 0 10.75 M0 32.25 C0 24.8, -0.22 18.48, 0 10.75 M0 10.75 C0.09 3.65, 4.49 -1.74, 10.75 0 M0 10.75 C-1.58 3.68, 3.74 -0.36, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(353.5 343.50000000000006) rotate(0 87 21.5)"><path d="M10.75 0 C57.97 3.1, 99.67 0.65, 163.25 0 C173.6 1.55, 171.98 0.34, 174 10.75 C176.55 19.59, 171.53 20, 174 32.25 C177.44 41.54, 170.62 45.68, 163.25 43 C119.78 44.57, 72.18 46.13, 10.75 43 C4.96 41.55, -3.35 41.32, 0 32.25 C2.91 27.83, 0.06 18.79, 0 10.75 C0.61 4.6, 5.04 0.27, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C53.33 2.97, 96.56 0.48, 163.25 0 M10.75 0 C60.16 0.72, 109.86 -0.2, 163.25 0 M163.25 0 C172.16 0.13, 172.35 2.88, 174 10.75 M163.25 0 C171.76 0.68, 172.27 2.14, 174 10.75 M174 10.75 C172.84 16.68, 174.71 25.17, 174 32.25 M174 10.75 C173.82 18.36, 173.12 24.09, 174 32.25 M174 32.25 C173.14 39.53, 169.27 42, 163.25 43 M174 32.25 C172.37 39.77, 168.33 43.17, 163.25 43 M163.25 43 C116.52 42.06, 72.6 42.4, 10.75 43 M163.25 43 C128.45 44.67, 91.92 43.82, 10.75 43 M10.75 43 C4.2 44.08, -1.83 40.99, 0 32.25 M10.75 43 C2.29 42.72, -1.64 37.92, 0 32.25 M0 32.25 C-1.82 24.17, -0.08 16.1, 0 10.75 M0 32.25 C-0.38 22.8, 0.09 15.1, 0 10.75 M0 10.75 C0.91 1.84, 2.21 0.09, 10.75 0 M0 10.75 C0.15 3.22, 5.44 0.83, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(354.5 298.50000000000006) rotate(0 87 21.5)"><path d="M10.75 0 C54.03 -1.78, 102.32 -0.6, 163.25 0 C168.4 -3.24, 171.98 3.19, 174 10.75 C171.85 17.84, 177.72 29.52, 174 32.25 C174.2 42.1, 170.25 41.54, 163.25 43 C108.1 44.66, 56.25 41.59, 10.75 43 C0.23 44.9, -1.59 36.96, 0 32.25 C-0.49 23.31, 0.33 20.32, 0 10.75 C1.46 3.86, 0.29 1.89, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C46.45 -2.04, 81.05 -2.79, 163.25 0 M10.75 0 C55.15 -1.2, 99.44 -0.75, 163.25 0 M163.25 0 C168.76 -0.7, 175.17 4.17, 174 10.75 M163.25 0 C168.69 -1.44, 173.86 1.37, 174 10.75 M174 10.75 C174.81 18.45, 174.26 20.99, 174 32.25 M174 10.75 C173.29 14.83, 173.57 19.63, 174 32.25 M174 32.25 C172.86 38.41, 169 43.31, 163.25 43 M174 32.25 C171.91 39.59, 170.34 44.19, 163.25 43 M163.25 43 C118.41 41.86, 72.39 40.86, 10.75 43 M163.25 43 C107.78 44.1, 54.08 44.71, 10.75 43 M10.75 43 C1.75 44.58, -1.13 39.18, 0 32.25 M10.75 43 C1.94 41.51, 0.72 40.31, 0 32.25 M0 32.25 C0.19 24.67, 2.18 20.51, 0 10.75 M0 32.25 C0.14 27.96, 0.55 22.74, 0 10.75 M0 10.75 C-1.38 3.67, 3.72 -0.32, 10.75 0 M0 10.75 C1.86 4.41, 3.46 -1.1, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(354.5 253.50000000000006) rotate(0 87 21.5)"><path d="M10.75 0 C71.63 1.27, 124.12 -3.53, 163.25 0 C168.4 -0.4, 177.14 6.18, 174 10.75 C177.18 21.46, 173.94 30.62, 174 32.25 C173.83 37.95, 172.41 44.58, 163.25 43 C118.64 42.78, 67.94 46.13, 10.75 43 C1.99 40.54, 0.04 42.06, 0 32.25 C0.63 26.17, 1.48 18.33, 0 10.75 C-3.29 5.47, 2.81 -0.97, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C71.37 -0.9, 130.82 0.65, 163.25 0 M10.75 0 C65.52 0.65, 117.72 0.24, 163.25 0 M163.25 0 C171.59 0.59, 172.5 2.33, 174 10.75 M163.25 0 C170.28 -2.21, 173.44 2.49, 174 10.75 M174 10.75 C174.46 15.16, 172.2 22.78, 174 32.25 M174 10.75 C173.42 18.91, 173.28 26.45, 174 32.25 M174 32.25 C172.58 39.72, 168.6 43.15, 163.25 43 M174 32.25 C173.93 40.61, 170.26 41.33, 163.25 43 M163.25 43 C122.55 41.12, 85.78 43.63, 10.75 43 M163.25 43 C106.11 43.42, 47.43 43.67, 10.75 43 M10.75 43 C2.46 42.76, -1.43 38.12, 0 32.25 M10.75 43 C4.3 43.89, -0.84 37.42, 0 32.25 M0 32.25 C1.99 26.43, -1.98 20.57, 0 10.75 M0 32.25 C0.45 26.77, -0.7 23.07, 0 10.75 M0 10.75 C0.13 3.27, 5.2 0.72, 10.75 0 M0 10.75 C-0.13 2.48, 3.35 1.47, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(354.5 208.50000000000006) rotate(0 87 21.5)"><path d="M10.75 0 C56.05 -4.42, 103.36 -1.57, 163.25 0 C173.56 2.59, 177.59 1.16, 174 10.75 C174.57 19.14, 174.21 20.71, 174 32.25 C175.99 41, 170.47 42.03, 163.25 43 C107.31 43.8, 56.48 39.43, 10.75 43 C3.63 45.65, 1.08 39.21, 0 32.25 C1.39 27.54, -3.36 24.18, 0 10.75 C-0.78 2.62, 6.8 -2.22, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C51.67 1.22, 94.15 2.01, 163.25 0 M10.75 0 C49.83 -0.45, 91.14 0.2, 163.25 0 M163.25 0 C168.91 -1.25, 173.88 1.66, 174 10.75 M163.25 0 C169.85 -1.1, 173.55 4.64, 174 10.75 M174 10.75 C172.14 19.08, 175.57 26.04, 174 32.25 M174 10.75 C173.34 15.99, 173.2 22.38, 174 32.25 M174 32.25 C172.19 39.56, 170.35 44.04, 163.25 43 M174 32.25 C173.85 37.74, 169.45 42.88, 163.25 43 M163.25 43 C122.46 42.87, 80.85 40.4, 10.75 43 M163.25 43 C117.72 44.61, 73.46 43.7, 10.75 43 M10.75 43 C2.16 41.7, 0.62 40.19, 0 32.25 M10.75 43 C2.74 41.01, -1.11 39.42, 0 32.25 M0 32.25 C-2.2 27.01, -1.92 23.56, 0 10.75 M0 32.25 C-0.79 25.78, -0.03 19.06, 0 10.75 M0 10.75 C1.62 4.3, 3.47 -0.96, 10.75 0 M0 10.75 C-0.23 5.05, 5.38 -0.59, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(354.5 163.50000000000006) rotate(0 87 21.5)"><path d="M10.75 0 C61.04 2.08, 118.5 5.07, 163.25 0 C174.01 -2.43, 172.76 7.03, 174 10.75 C173.86 17, 176.01 27.76, 174 32.25 C174.05 38.45, 172.03 44.37, 163.25 43 C122.05 41.99, 84.07 47.1, 10.75 43 C4.67 42.8, -2.46 40.03, 0 32.25 C-3.45 27.08, -0.93 17.16, 0 10.75 C3.22 1.37, 1.14 0.24, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C47.25 0.84, 80.84 1.6, 163.25 0 M10.75 0 C58.07 0.83, 103.46 -0.09, 163.25 0 M163.25 0 C170.3 -1.92, 173.51 2.63, 174 10.75 M163.25 0 C169.96 1.05, 176.04 4, 174 10.75 M174 10.75 C175.33 14.05, 173.13 19.32, 174 32.25 M174 10.75 C173.17 17.47, 172.97 23.96, 174 32.25 M174 32.25 C173.94 40.45, 170.28 41.54, 163.25 43 M174 32.25 C173.03 39.3, 169.85 41.42, 163.25 43 M163.25 43 C130.46 42.31, 94.46 44.39, 10.75 43 M163.25 43 C108.73 44.08, 54.62 43.55, 10.75 43 M10.75 43 C4.21 43.78, -0.73 37.68, 0 32.25 M10.75 43 C2.47 43.01, -2.2 41.71, 0 32.25 M0 32.25 C-1.5 26.32, 0.28 21.13, 0 10.75 M0 32.25 C0.21 27.51, 0.96 23.46, 0 10.75 M0 10.75 C-0.11 2.62, 3.38 1.28, 10.75 0 M0 10.75 C1.8 3, 3.82 2.03, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(354 118.5) rotate(0 87 21.5)"><path d="M10.75 0 C45.9 2.89, 78.35 -2.12, 163.25 0 C169.18 3.44, 176.12 3.78, 174 10.75 C175.97 20.38, 174.04 25.89, 174 32.25 C175.61 40.79, 168.97 39.65, 163.25 43 C109.49 43.77, 56.72 40.92, 10.75 43 C1.12 43.61, 1.02 40.87, 0 32.25 C-0.42 24.67, 3.58 16.81, 0 10.75 C-2.44 3.82, 4.18 2.05, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C57.18 1, 105.28 -2.4, 163.25 0 M10.75 0 C50.42 -1.07, 91.53 -1.41, 163.25 0 M163.25 0 C169.93 -0.95, 173.61 4.5, 174 10.75 M163.25 0 C172.45 0.41, 172.15 1.4, 174 10.75 M174 10.75 C173.5 16.32, 174.28 22.46, 174 32.25 M174 10.75 C172.94 16.19, 173.82 22.01, 174 32.25 M174 32.25 C173.87 37.96, 169.57 42.9, 163.25 43 M174 32.25 C173.43 37.84, 168.69 44.36, 163.25 43 M163.25 43 C109.64 42.51, 57.4 40.06, 10.75 43 M163.25 43 C104.77 42.17, 48.03 43.2, 10.75 43 M10.75 43 C2.85 41.27, -0.96 39.42, 0 32.25 M10.75 43 C1.38 45.29, -0.47 37.14, 0 32.25 M0 32.25 C0.25 27.63, -1.56 19.81, 0 10.75 M0 32.25 C0.79 26.07, -0.07 18.68, 0 10.75 M0 10.75 C-0.2 4.86, 5.15 -0.51, 10.75 0 M0 10.75 C0.24 5.62, 4.57 -1.29, 10.75 0" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g stroke-linecap="round" transform="translate(15.729150752768419 157.80844067507218) rotate(0 87 21.5)"><path d="M10.75 0 C43.57 3.12, 76.69 1.88, 163.25 0 C169.1 2.49, 175.43 0.14, 174 10.75 C171.11 18.23, 174.79 21.59, 174 32.25 C174.13 40.45, 168.64 45.06, 163.25 43 C129.71 41.69, 99.32 45.56, 10.75 43 C0.1 41.61, 1.66 38.3, 0 32.25 C1.16 22.49, -1.74 17.13, 0 10.75 C-3.14 4.15, 1.78 -3.27, 10.75 0" fill="#ffc9c9" stroke-width="0" stroke="none"></path><path d="M10.75 0 C42.34 -0.64, 71.32 0.99, 163.25 0 M163.25 0 C169.45 -1.27, 172.68 3.2, 174 10.75 M174 10.75 C172.93 16.06, 174.54 24.01, 174 32.25 M174 32.25 C175.34 38.35, 171.16 42.09, 163.25 43 M163.25 43 C116.95 42.85, 71.51 43.42, 10.75 43 M10.75 43 C4.86 42.56, -0.48 38.62, 0 32.25 M0 32.25 C-0.78 26.79, -1.1 18.63, 0 10.75 M0 10.75 C1.81 2.08, 3.03 1.87, 10.75 0" fill="none" stroke-dasharray="8 10" stroke-width="2.5" stroke="#1e1e1e"></path></g><g stroke-linecap="round"><g transform="translate(350.65900624697576 138.85936306457643) rotate(0 -78.99414808463979 18.72453880524793)"><path d="M1.12 -0.52 C-12.75 0.45, -56.51 0.1, -82.96 6.42 C-109.42 12.74, -145.03 32.23, -157.59 37.43 M0.25 1.82 C-13.28 2.89, -54.4 1.49, -80.8 7.64 C-107.2 13.79, -145.24 33.54, -158.15 38.73" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g transform="translate(350.65900624697576 138.85936306457643) rotate(0 -78.99414808463979 18.72453880524793)"><path d="M-140.24 21.29 C-146.75 25.3, -152.62 33.29, -158.15 38.73 M-140.24 21.29 C-146.17 26.74, -151.04 31.04, -158.15 38.73" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g><g transform="translate(350.65900624697576 138.85936306457643) rotate(0 -78.99414808463979 18.72453880524793)"><path d="M-133.21 36.88 C-142.06 35.96, -150.18 38.96, -158.15 38.73 M-133.21 36.88 C-141.2 37.69, -148.15 37.35, -158.15 38.73" fill="none" stroke-width="2" stroke="#1e1e1e"></path></g></g><mask></mask><g transform="translate(260.00942585424843 163.92885699010975) rotate(0 23.47998046875 12.5)"><text direction="ltr" dominant-baseline="alphabetic" fill="#1e1e1e" font-family="Virgil, Segoe UI Emoji" font-size="20px" style="white-space: pre;" text-anchor="start" x="0" y="17.52">Redo</text></g></svg>
State에 행위가 일어나기 전 혹은 후의 상태를 저장해야 하기 때문에 CommentUserInfo 클래스에 Clone() 함수를 추가합니다.  

```CSharp
public class CommentUserInfo{
/*
    클래스를 복제하여 리턴한다.
*/
    public CommentUserInfo Clone()
    {
	    var clone = new CommentUserInfo();
	    clone.Copy(this);
	    return clone;
	}
	
 	/*
 		주어진 lhs를 복사한다.
	*/
	public void Copy(CommentUserInfo lhs)
	{		...	
	}
}
```

마지막으로 Undo, Redo 스택을 관리하기 위한 Manager 클래스를 만듭니다.  
UndoRedoManager는 Singleton 패턴을 사용하여 하나의 인스턴스만 생성하도록 하였습니다.  

```CSharp
public class UndoRedoManager{
	private Stack<UndoRedoData> _UndoStack {get;} = new Stack<UndoRedoData>();	
	private Stack<UndoRedoData> _RedoStack {get;} = new Stack<UndoRedoData>(); 	
	
	private static readonly Lazy<UndoRedoManager> lazy = new Lazy<UndoRedoManager>(() => new UndoRedoManager()); 	
	
	public static UndoRedoManager Instance	{
		get { return lazy.Value; }	
	}
	
 	/*
 		클래스 외부에서 클래스를 생성하지 못하도록 private으로 선언
	*/
	private UndoRedoManager(){}
	
	/*
		행위가 일어나기 전의 상태를 저장한다.
	*/
	public void Push(UndoReoData lhs)
	{
		lhs.State = lhs.Item.Clone();
		_UndoStack.Push(lhs);
	}
	
 	/*
 		Undo를 실행한다.
	*/
	public void Undo()
	{
		if(_UndoStack.Any())
		{
			var data = _UndoStack.Pop();
			#region swap Item with State
			var tmp = data.Item.Clone();
			data.Item.Copy(data.State);
			data.State.Copy(tmp);
			#endregion
			
			/// RedoStack에 저장한다.
			_RedoStack.Push(data);
		}
	}
	
 	/*
 		Redo를 실행한다.
 	*/
 	public void Redo()
 	{
 		if(_RedoStack.Any())
 		{
 			var data = _RedoStack.Pop();
 			#region swap Item with State
 			var tmp = data.Item.Clone();
 			data.Item.Copy(data.State);
 			data.State.Copy(tmp);
 			#endregion
 			
			/// UndoStack에 저장한다.
			_UndoStack.Push(data);
		}
	}
}
```

Item의 상태가 바뀔 때 예를 들어 도형의 크기가 변경되거나 회전할 때 그 상태를 UndoRedoManager의 Push 함수로 저장합니다.  

```CSharp
var manager = UndoRedoManager::Instance;
manager.Push(new UndoRedoData(item));
```

Undo, Redo를 할 때는 UndoRedoManager의 Undo, Redo 함수를 호출하면 됩니다.